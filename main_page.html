<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>系统面板</title>
    <link rel="stylesheet" type="text/css" href="res/themes/default/easyui.css"/>
    <link rel="stylesheet" type="text/css" href="res/themes/icon.css"/>
    <link rel="stylesheet" type="text/css" href="res/css/tree/tree_menu.css"/>
    <script type="text/javascript" src="res/js/jquery-2.2.0.min.js"></script>
    <script type="text/javascript" src="res/js/jquery.easyui.min.js"></script>
    <script type="text/javascript" src="res/js/mainPage/tabs.js"></script>
    <script type="text/javascript" src="res/js/mainPage/tree_menu.js"></script>
    <link href="res/css/common_table.css" rel="stylesheet" type="text/css">

    <script type="text/javascript">


//        $(function () {
//            //初始化树形菜单
//            $(".st_tree").TreeMenu({
//                click: function (a) {
//                    if (!$(a).attr("hasChild")) {
//                        var title = $(a).text();
//                        var url = $(a).attr("rel");
//                        var icon = $(a).attr("icon");
//                        parent.openTab(title, url, icon);
//                    }
//                }
//            });
//        });

        //为树形菜单添加点击事件
        $(function () {
            $('#tree').tree({
                onClick: function (node) {
                    var title = node.text;
                    var url = node.attributes.url;
                    parent.openTab(title, url);
                }
            });
        });

        $(function () {
            //屏蔽右键
            $(document).bind("contextmenu", function (e) {
                return false;
            });
        });

        $(function () {
            /*为选项卡绑定右键*/
            $('#tabs').bind('contextmenu', function (e) {

                /* 选中当前触发事件的选项卡 */
                var subtitle = $(this).text();
                $('#tabs').tabs('select', subtitle);

                //显示快捷菜单
                $('#menu').menu('show', {
                    left: e.pageX,
                    top: e.pageY
                });

                return false;
            });
        });

    </script>
    <style></style>
</head>

<body class="easyui-layout">
<div region="north" style="height:80px;">
    <h1>工艺管理系统</h1>
</div>

<div region="west" split="true" style="width:210px;" title="导航菜单">
    <!--
    <div class="st_tree">
        <ul>
            <li><a href="#">首页</a></li>
            <li><a href="#">报表</a></li>
            <li><a href="#">产品</a></li>
            <ul>
                <li><a href="#" rel="list_product.php">冶金</a></li>
                <li><a href="#" rel="">核电</a></li>
            </ul>
            <li><a href="#">工艺</a></li>
            <ul>
                <li><a href="#">冶金</a></li>
                <ul>
                    <li><a href="#">机加工</a></li>

                </ul>
                <li><a href="#">核电</a></li>
                <ul>
                    <li><a href="#">机加工</a></li>
                    <li><a href="#">铸造</a></li>
                    <li><a href="#">锻造</a></li>
                    <li><a href="#">热处理</a></li>
                    <li><a href="#">焊接</a></li>
                    <li><a href="#">装配</a></li>
                </ul>
            </ul>
        </ul>
    </div>
    -->
    <div class="tree_menu">
        <ul id="tree" data-options="url:'res/json/tree_data.json',method:'get',animate:'true',lines:true"></ul>
    </div>
</div>
<div data-options="region:'east',split:true" title="小工具" style="width:180px;"></div>

<div region="center">
    <div id="tabs" class="easyui-tabs" fit="true" border="false">
        <div class="welcome" title="欢迎使用">

        </div>
    </div>

</div>


<div id="menu" class="easyui-menu" style="width:150px;">
    <div id="m-refresh">刷新</div>
    <div class="menu-sep"></div>
    <div id="m-closeall">全部关闭</div>
    <div id="m-closeother">关闭其他</div>
    <div class="menu-sep"></div>
    <div id="m-close">关闭</div>
</div>
</body>
</html>
